/* Ephox Media Embed
 *
 * Copyright 2010-2017 Ephox Corporation. All rights reserved.
 *
 * Version: 1.0.0-20
 */

!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("y",Array),g("15",["y"],function(a){var b=function(b){return function(){var c=a.prototype.slice.call(arguments),d=this;setTimeout(function(){b.apply(d,c)},0)}};return{bounce:b}}),g("16",[],function(){return function(a,b){var c=function(c){return a(function(a){b(function(b){var d=c(b);a(d)})})},d=function(c){return a(function(a){b(function(b){c(b).get(a)})})},e=function(c){return a(function(a){b(function(b){c.get(a)})})};return{get:b,map:c,bind:d,anonBind:e}}}),h("z",String),g("1m",["y","z"],function(a,b){var c=function(a){return function(b){return a===b}},d=function(){var b=a.prototype.indexOf,d=function(a,c){return b.call(a,c)},e=function(a,b){return r(a,c(b))};return void 0===b?e:d}(),e=function(a,b){return d(a,b)>-1},f=function(a,b){return r(a,b)>-1},g=function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},h=function(b,c){for(var d=b.length,e=new a(d),f=0;f<d;f++){var g=b[f];e[f]=c(g,f,b)}return e},i=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];b(e,c,a)}},j=function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e],h=b(g,e,a)?c:d;h.push(g)}return{pass:c,fail:d}},k=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},l=function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],f=0,g=a.length;f<g;f++){var h=a[f],i=b(h);i!==c&&(d.push(e),e=[]),c=i,e.push(h)}return 0!==e.length&&d.push(e),d},m=function(a,b,c){return n(z(a),b,c)},n=function(a,b,c){return i(a,function(a){c=b(c,a)}),c},o=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(b(e,c,a))return e}},p=function(a,b,c){var d=o(a,b);return void 0!==d?d:c},q=function(a,c,d){var e=o(a,c);if(void 0===e)throw d||"Could not find element in array: "+b(a);return e},r=function(a,b){for(var c=b||v,d=0,e=a.length;d<e;++d)if(c(a[d])===!0)return d;return-1},s=a.prototype.push,t=function(a){for(var b=[],c=0,d=a.length;c<d;++c)s.apply(b,a[c]);return b},u=function(a,b){var c=h(a,b);return t(c)},v=c(!0),w=function(a,b){for(var c=b||v,d=0,e=a.length;d<e;++d)if(c(a[d],d)!==!0)return!1;return!0},x=function(a,b){return a.length===b.length&&w(a,function(a,c){return a===b[c]})},y=a.prototype.slice,z=function(a){var b=y.call(a,0);return b.reverse(),b},A=function(a,b){return k(a,function(a){return!e(b,a)})},B=function(a,c){for(var d={},e=0,f=a.length;e<f;e++){var g=a[e];d[b(g)]=c(g,e)}return d},C=function(a){return[a]};return{map:h,each:i,partition:j,filter:k,groupBy:l,indexOf:d,foldr:m,foldl:n,find:o,findIndex:r,findOr:p,findOrDie:q,flatten:t,bind:u,forall:w,exists:f,contains:e,equal:x,reverse:z,chunk:g,difference:A,mapToObject:B,pure:C}}),g("17",["1m"],function(a){return function(b){var c=function(a){return b(function(b){b(a)})},d=function(c){return b(function(b){var d=[],e=0,f=function(a){return function(f){d[a]=f,e++,e>=c.length&&b(d)}};0===c.length?b([]):a.each(c,function(a,b){a.get(f(b))})})},e=function(b,c){return d(a.map(b,c))},f=function(a,c,d){return b(function(b){var e=!1,f=!1,g=void 0,h=void 0,i=function(){if(e&&f){var a=d(g,h);b(a)}};a.get(function(a){g=a,e=!0,i()}),c.get(function(a){h=a,f=!0,i()})})},g=function(a,b){return function(c){return b(c).bind(a)}};return{nu:b,pure:c,par:d,mapM:e,lift2:f,compose:g}}}),g("o",["15","16","17"],function(a,b,c){var d=function(c){var e=function(b){c(a.bounce(b))};return b(d,e)};return c(d)}),g("p",["y"],function(a){var b=function(){},c=function(a,b){return function(){return a(b.apply(null,arguments))}},d=function(a){return function(){return a}},e=function(a){return a},f=function(a,b){return a===b},g=function(b){for(var c=new a(arguments.length-1),d=1;d<arguments.length;d++)c[d-1]=arguments[d];return function(){for(var d=new a(arguments.length),e=0;e<d.length;e++)d[e]=arguments[e];var f=c.concat(d);return b.apply(null,f)}},h=function(a){return function(){return!a.apply(null,arguments)}},i=function(a){return function(){throw a}},j=function(a){return a()},k=function(a){a()};return{noop:b,compose:c,constant:d,identity:e,tripleEquals:f,curry:g,not:h,die:i,apply:j,call:k}}),h("1k",Object),g("18",["p","1k"],function(a,b){var c=a.constant(!1),d=a.constant(!0),e=function(){return f},f=function(){var f=function(a){return a.isNone()},g=function(a){return a()},h=function(a){return a},i={fold:function(a,b){return a()},is:c,isSome:c,isNone:d,getOr:h,getOrThunk:g,getOrDie:function(a){throw a||"error: getOrDie called on none."},or:h,orThunk:g,map:e,ap:e,each:e,bind:e,flatten:e,exists:c,forall:d,filter:e,equals:f,equals_:f,toArray:function(){return[]},toString:a.constant("none()")};return b.freeze&&b.freeze(i),i}(),g=function(a){var b=function(){return a},h=function(){return k},i=function(b){return g(b(a))},j=function(b){return b(a)},k={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:d,isNone:c,getOr:b,getOrThunk:b,getOrDie:b,or:h,orThunk:h,map:i,ap:function(b){return b.fold(e,function(b){return g(b(a))})},each:i,bind:j,flatten:b,exists:j,forall:j,filter:function(b){return b(a)?k:f},equals:function(b){return b.is(a)},equals_:function(b,d){return b.fold(c,function(b){return d(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return k},h=function(a){return null===a||void 0===a?f:g(a)},i=function(a,b){return a.equals(b)},j=function(a,b,c){return a.equals_(b,c)};return{some:g,none:e,from:h,equals:i,equals_:j}}),g("q",["p","18"],function(a,b){var c=function(a){return e(function(b,c){return c(a)})},d=function(a){return e(function(b,c){return b(a)})},e=function(e){var f=function(b){return e(a.constant(!1),function(a){return a===b})},g=function(){return e(a.constant(!1),a.constant(!0))},h=a.not(g),i=function(b){return e(a.constant(b),a.identity)},j=function(b){return e(b,a.identity)},k=function(){return e(function(b){a.die(b)()},a.identity)},l=function(b){return e(a.constant(b),c)},m=function(a){return e(a,c)},n=function(a){return p(function(b){return c(a(b))})},o=n,p=function(a){return e(d,a)},q=function(b){return e(a.constant(!1),b)},r=function(b){return e(a.constant(!0),b)},s=function(){return e(b.none,b.some)};return{is:f,isValue:g,isError:h,getOr:i,getOrThunk:j,getOrDie:k,or:l,orThunk:m,fold:e,map:n,each:o,bind:p,exists:q,forall:r,toOption:s}};return{value:c,error:d}}),g("e",["o","p","q"],function(a,b,c){var d=b.compose(a.pure,c.value),e=b.compose(a.pure,c.error),f=function(a,b,c){return a.map(function(a){return a.fold(b,c)})},g=function(a,b){return a.map(function(a){return a.bind(b)})},h=function(a,b){return a.bind(function(a){return a.bind(b)})},i=function(a,b){return a.map(function(a){return a.map(b)})},j=function(a,b,c){return a.get(function(a){return a.fold(b,c)})};return{pure:d,failed:e,foldSync:f,bindSync:g,bindAsync:h,mapSync:i,handle:j}}),g("19",["y","z"],function(a,b){var c=function(c){if(null===c)return"null";var d=typeof c;return"object"===d&&a.prototype.isPrototypeOf(c)?"array":"object"===d&&b.prototype.isPrototypeOf(c)?"string":d},d=function(a){return function(b){return c(b)===a}};return{isString:d("string"),isObject:d("object"),isArray:d("array"),isNull:d("null"),isBoolean:d("boolean"),isUndefined:d("undefined"),isFunction:d("function"),isNumber:d("number")}}),g("1a",["1k"],function(a){var b=function(){var b=a.keys,c=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};return void 0===b?c:b}(),c=function(a,c){for(var d=b(a),e=0,f=d.length;e<f;e++){var g=d[e],h=a[g];c(h,g,a)}},d=function(a,b){return e(a,function(a,c,d){return{k:c,v:b(a,c,d)}})},e=function(a,b){var d={};return c(a,function(c,e){var f=b(c,e,a);d[f.k]=f.v}),d},f=function(a,b){var d={},e={};return c(a,function(a,c){var f=b(a,c)?d:e;f[c]=a}),{t:d,f:e}},g=function(a,b){var d=[];return c(a,function(a,c){d.push(b(a,c))}),d},h=function(a,c){for(var d=b(a),e=0,f=d.length;e<f;e++){var g=d[e],h=a[g];if(c(h,g,a))return h}},i=function(a){return g(a,function(a){return a})},j=function(a){return i(a).length};return{bifilter:f,each:c,map:d,mapToArray:g,tupleMap:e,find:h,keys:b,values:i,size:j}}),h("1b",Date),g("u",["1b"],function(a){var b=function(){return(new a).getTime()};return{now:b}}),g("1o",["1m","1a","p","y"],function(a,b,c,d){var e=function(e,f){var g=function(){for(var b=new d(arguments.length),f=0;f<b.length;f++)b[f]=arguments[f];if(e.length!==b.length)throw'Wrong number of arguments to struct. Expected "['+e.length+']", got '+b.length+" arguments";var g={};return a.each(e,function(a,d){g[a]=c.constant(b[d])}),g},h=function(a,b){for(var d=0;d<e.length;d++){var g=f&&f[d]||c.tripleEquals,h=e[d];if(!g(a[h](),b[h]()))return!1}return!0},i=function(a){return b.map(a,function(a){return a()})};return{nu:g,eq:h,evaluate:i}};return{product:e}}),g("1n",["1o"],function(a){return function(){return a.product(arguments).nu}}),g("1y",["19","1m"],function(a,b){var c=function(a){return a.slice(0).sort()},d=function(a,b){throw"All required keys ("+c(a).join(", ")+") were not specified. Specified keys were: "+c(b).join(", ")+"."},e=function(a){throw"Unsupported keys for object: "+c(a).join(", ")},f=function(c,d){if(!a.isArray(d))throw"The "+c+" fields must be an array. Was: "+d+".";b.each(d,function(b){if(!a.isString(b))throw"The value "+b+" in the "+c+" fields was not a string."})},g=function(a,b){throw"All values need to be of type: "+b+". Keys ("+c(a).join(", ")+") were not."},h=function(a){var d=c(a),e=b.find(d,function(a,b){return b<d.length-1&&a===d[b+1]});if(void 0!==e&&null!==e)throw"The field: "+e+" occurs more than once in the combined fields: ["+d.join(", ")+"]."};return{sort:c,reqMessage:d,unsuppMessage:e,validateStrArr:f,invalidTypeMessage:g,checkDupes:h}}),g("1p",["1m","1a","p","18","1y","1k"],function(a,b,c,d,e,f){return function(g,h){var i=g.concat(h);if(0===i.length)throw"You must specify at least one required or optional field.";return e.validateStrArr("required",g),e.validateStrArr("optional",h),e.checkDupes(i),function(j){var k=b.keys(j),l=a.forall(g,function(b){return a.contains(k,b)});l||e.reqMessage(g,k);var m=a.filter(k,function(b){return!a.contains(i,b)});m.length>0&&e.unsuppMessage(m);var n={};return a.each(g,function(a){n[a]=c.constant(j[a])}),a.each(h,function(a){n[a]=c.constant(f.prototype.hasOwnProperty.call(j,a)?d.some(j[a]):d.none())}),n}}}),g("1c",["1n","1o","1p"],function(a,b,c){return{immutable:a,immutable2:b,immutableBag:c}}),g("r",["19","1a","u","18","1c"],function(a,b,c,d,e){var f=36e5;return function(g,h){var i=void 0!==h?h:f,j=e.immutable("result","timestamp"),k={},l=function(a,b,c){k[a]=j(b,c)},m=function(a,b){return d.from(k[b]).filter(function(b){return a-b.timestamp()<i}).map(function(a){return a.result()})},n=function(){return b.map(k,function(a){return{result:a.result(),timestamp:a.timestamp()}})},o=function(a){var d=c.now();b.map(a,function(a,b){d-a.timestamp<i&&l(b,a.result,a.timestamp)})};return a.isObject(g)&&o(g),{set:l,get:m,dump:n}}}),g("1g",["19","y"],function(a,b){var c=function(a,b){return b},d=function(b,c){var d=a.isObject(b)&&a.isObject(c);return d?f(b,c):c},e=function(a){return function(){for(var c=new b(arguments.length),d=0;d<c.length;d++)c[d]=arguments[d];if(0===c.length)throw"Can't merge zero objects";for(var e={},f=0;f<c.length;f++){var g=c[f];for(var h in g)g.hasOwnProperty(h)&&(e[h]=a(e[h],g[h]))}return e}},f=e(d),g=e(c);return{deepMerge:f,merge:g}}),g("1z",["1m","1g","q"],function(a,b,c){var d=function(d,e){return a.foldl(d,function(a,d){return a.fold(function(a){return d.fold(function(b){return c.error(a.concat(b))},function(b){return c.error(a)})},function(a){return d.fold(function(a){return c.error(a)},function(d){return c.value(b.deepMerge(a,d))})})},c.value(e))},e=function(b){return a.foldl(b,function(a,b){return a.fold(function(a){return b.fold(function(b){return c.error(a.concat(b))},function(b){return c.error(a)})},function(a){return b.fold(function(a){return c.error(a)},function(b){return c.value(a.concat([b]))})})},c.value([]))};return{consolidateObj:d,consolidateArr:e}}),g("20",["1m"],function(a){var b=function(b,c){var d={};return a.each(c,function(a){void 0!==b[a]&&b.hasOwnProperty(a)&&(d[a]=b[a])}),d},c=function(b,c){var d={};return a.each(b,function(a){var b=a[c];d[b]=a}),d};return{narrow:b,indexOnKey:c}}),g("21",["18"],function(a){var b=function(b){return function(c){return c.hasOwnProperty(b)?a.from(c[b]):a.none()}},c=function(a,c){return function(d){return b(a)(d).getOr(c)}},d=function(a,c){return b(c)(a)},e=function(a,b){return a.hasOwnProperty(b)&&void 0!==a[b]&&null!==a[b]};return{readOpt:b,readOr:c,readOptFrom:d,hasKey:e}}),g("22",["1m"],function(a){var b=function(a,b){var c={};return c[a]=b,c},c=function(b){var c={};return a.each(b,function(a){c[a.key]=a.value}),c};return{wrap:b,wrapAll:c}}),g("1w",["1z","20","21","22"],function(a,b,c,d){var e=function(a,c){return b.narrow(a,c)},f=function(a){return c.readOpt(a)},g=function(a,b){return c.readOr(a,b)},h=function(a,b){return c.readOptFrom(a,b)},i=function(a,b){return d.wrap(a,b)},j=function(a){return d.wrapAll(a)},k=function(a,c){return b.indexOnKey(a,c)},l=function(b,c){return a.consolidateObj(b,c)},m=function(a,b){return c.hasKey(a,b)};return{narrow:e,readOpt:f,readOr:g,readOptFrom:h,wrap:i,wrapAll:j,indexOnKey:k,hasKey:m,consolidate:l}}),g("1r",["q"],function(a){var b=function(b,c){return a.error([{path:b,err:c}])},c=function(a){return"Failed path: ("+a.path.join(" > ")+")\n"+a.err};return{nu:b,toString:c}}),g("23",["19","1m","1a","y"],function(a,b,c,d){var e=function(e){if(!a.isArray(e))throw"cases must be an array";if(0===e.length)throw"there must be at least one case";var f={};return b.each(e,function(b,g){var h=c.keys(b);if(1!==h.length)throw"one and only one name per case";var i=h[0],j=b[i];if(void 0!==f[i])throw"duplicate key detected:"+i;if("cata"===i)throw"cannot have a case named cata (sorry)";if(!a.isArray(j))throw"case arguments must be an array";f[i]=function(){var a=arguments.length;if(a!==j.length)throw"Wrong number of arguments to case "+i+". Expected "+j.length+" ("+j+"), got "+a;for(var b=new d(a),c=0;c<b.length;c++)b[c]=arguments[c];return{fold:function(){if(arguments.length!==e.length)throw"Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length;var a=arguments[g];return a.apply(null,b)}}}}),f};return{generate:e}}),g("1x",["p","23"],function(a,b){var c=b.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),d=function(b){return c.defaultedThunk(a.constant(b))},e=function(b){return c.asDefaultedOptionThunk(a.constant(b))},f=function(b){return c.mergeWithThunk(a.constant(b))};return{strict:c.strict,asOption:c.asOption,defaulted:d,defaultedThunk:c.defaultedThunk,asDefaultedOption:e,asDefaultedOptionThunk:c.asDefaultedOptionThunk,mergeWith:f,mergeWithThunk:c.mergeWithThunk}}),g("2e",[],function(){return Function("return this;")()}),g("2c",["2e"],function(a){var b=function(b,c){for(var d=c||a,e=0;e<b.length&&void 0!==d&&null!==d;++e)d=d[b[e]];return d},c=function(a,c){var d=a.split(".");return b(d,c)};return{path:b,resolve:c}}),g("24",["2c"],function(a){var b=function(b,c){return a.resolve(b,c)},c=function(a,c){var d=b(a,c);if(void 0===d)throw a+" not available on this browser";return d};return{getOrDie:c}}),g("1t",["24"],function(a){var b=function(){return a.getOrDie("JSON")},c=function(a){return b().parse(a)},d=function(a,c,d){return b().stringify(a,c,d)};return{parse:c,stringify:d}}),g("1s",["1x","1z","21","22","1r","1m","1a","1g","1t","p","18","q","23"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=m.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),o=function(a,b){return n.state(a,j.constant(b))},p=function(a){return n.state(a,j.identity)},q=function(a,b,d){return c.readOptFrom(b,d).fold(function(){return e.nu(a,'Could not find valid *strict* value for "'+d+'" in '+i.stringify(b,null,2))},l.value)},r=function(a,b,d){return l.value(c.readOr(b,d)(a))},s=function(a,b){return l.value(c.readOptFrom(a,b))},t=function(a,b,d){var e=c.readOptFrom(a,b).map(function(a){return a===!0?d:a});return l.value(e)},u=function(a,b,c,e){return c.fold(function(c,f,g,i){var j=function(b){return i.extract(a.concat([c]),e,b).map(function(a){return d.wrap(f,e(a))})},m=function(b){return b.fold(function(){var a=d.wrap(f,e(k.none()));return l.value(a)},function(b){return i.extract(a.concat([c]),e,b).map(function(a){return d.wrap(f,e(k.some(a)))})})};return function(){return g.fold(function(){return q(a,b,c).bind(j)},function(a){var d=a();return r(b,c,d).bind(j)},function(){return s(b,c).bind(m)},function(a){var d=a();return t(b,c,d).bind(m)},function(a){var d=a();return r(b,c,{}).map(function(a){return h.deepMerge(d,a)}).bind(j)})}()},function(a,c){var f=c(b);return l.value(d.wrap(a,e(f)))})},v=function(a,c,d,e){var g=f.map(d,function(b){return u(a,c,b,e)});return b.consolidateObj(g,{})},w=function(a){var b=function(b,c,d){return a(d).fold(function(a){return e.nu(b,a)},l.value)},c=function(){return"val"};return{extract:b,toString:c}},x=function(a){var b=function(b,c,d){return v(b,d,a,c)},c=function(){var b=f.map(a,function(a){return a.fold(function(a,b,c,d){return a+" -> "+d.toString()},function(a,b){return"state("+a+")"})});return"obj{\n"+b.join("\n")+"}"};return{extract:b,toString:c}},y=function(a){var c=function(c,d,e){var g=f.map(e,function(b,e){return a.extract(c.concat(["["+e+"]"]),d,b)});return b.consolidateArr(g)},d=function(){return"array("+a.toString()+")"};return{extract:c,toString:d}},z=function(b,c){var d=function(a,c){return y(w(b)).extract(a,j.identity,c)},e=function(b,e,h){var i=g.keys(h);return d(b,i).bind(function(d){var g=f.map(d,function(b){return n.field(b,b,a.strict(),c)});return x(g).extract(b,e,h)})},h=function(){return"setOf("+c.toString()+")"};return{extract:e,toString:h}},A=w(l.value),B=j.compose(y,x);return{anyValue:j.constant(A),value:w,obj:x,arr:y,setOf:z,arrOfObj:B,state:n.state,field:n.field,output:o,snapshot:p}}),g("1q",["1w","1r","1s","1a","1t","q"],function(a,b,c,d,e,f){var g=function(a,c){return b.nu(a,'Choice schema did not contain choice key: "'+c+'"')},h=function(a,c,d){return b.nu(a,'The chosen schema: "'+d+'" did not exist in branches: '+e.stringify(c,null,2))},i=function(b,d,e,f,g){var i=a.readOptFrom(f,g);return i.fold(function(){return h(b,f,g)},function(a){return c.obj(a).extract(b.concat(["branch: "+g]),d,e)})},j=function(b,c){var e=function(d,e,f){var h=a.readOptFrom(f,b);return h.fold(function(){return g(d,b)},function(a){return i(d,e,f,c,a)})},f=function(){return"chooseOn("+b+"). Possible values: "+d.keys(c)};return{extract:e,toString:f}};return{choose:j}}),h("11",Error),g("1d",["1q","1r","1s","1m","1t","p","q","11"],function(a,b,c,d,e,f,g,h){var i=c.value(g.value),j=function(a){return c.arrOfObj(a)},k=function(){return c.arr(i)},l=c.arr,m=c.obj,n=c.setOf,o=function(a){return c.value(a)},p=function(a,b,c,d){return b.extract([a],c,d).fold(function(a){return g.error({input:d,errors:a})},g.value)},q=function(a,b,c){return p(a,b,f.constant,c)},r=function(a,b,c){return p(a,b,f.identity,c)},s=function(a){return a.fold(function(a){throw new h(v(a))},f.identity)},t=function(a,b,c){return s(r(a,b,c))},u=function(a,b,c){return s(q(a,b,c))},v=function(a){return"Errors: \n"+d.map(a.errors,b.toString).join("\n\n")+"\n\nInput object: "+e.stringify(a.input,null,2)},w=function(b,c){return a.choose(b,c)};return{anyValue:f.constant(i),arrOfObj:j,arrOf:l,arrOfVal:k,valueOf:o,setOf:n,objOf:m,asStruct:q,asRaw:r,asStructOrDie:u,asRawOrDie:t,getOrDie:s,formatError:v,choose:w}}),g("2d",["24"],function(a){return function(){var b=a.getOrDie("FileReader");return new b}}),g("25",["o","2d"],function(a,b){return function(c){return a.nu(function(a){var d=b();d.onload=function(b){var c=b.target;a(c.result)},d.readAsText(c)})}}),g("26",["24"],function(a){return function(){var b=a.getOrDie("XMLHttpRequest");return new b}}),h("27",Math),h("28",isFinite),h("29",isNaN),h("2a",parseFloat),g("1v",["27","28","29","2a"],function(a,b,c,d){var e=function(a){return function(b,c){var d=typeof c;if(d!==a)throw b+" was not a "+a+". Was: "+c+" ("+d+")"}},f=e("string"),g=function(a,b){f(a,b);var c=b.length;if(1!==c)throw a+" was not a single char. Was: "+b},h=e("number"),i=function(b,c){if(h(b,c),c!==a.abs(c))throw b+" was not an integer. Was: "+c},j=function(a){return!c(d(a))&&b(a)},k=function(a,b){if(i(a,b),b<0)throw a+" was not a natural number. Was: "+b};return{vString:f,vChar:g,vInt:i,vNat:k,pNum:j}}),g("1f",["1v"],function(a){var b=function(a,b,c){if(""===b)return!0;if(a.length<b.length)return!1;var d=a.substr(c,c+b.length);return d===b},c=function(a,b){var c=function(a){var b=typeof a;return"string"===b||"number"===b};return a.replace(/\${([^{}]*)}/g,function(a,d){var e=b[d];return c(e)?e:a})},d=function(a){var b=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c};return function(){var c=b(arguments,function(a){return"string"==typeof a?a.toLowerCase():a});return a.apply(this,c)}},e=function(a,c){return b(a,c,0)},f=d(e),g=function(a,c){return b(a,c,a.length-c.length)},h=d(g),i=function(a,b){return a.substr(0,b)},j=function(a,b){return a.substr(a.length-b,a.length)},k=function(a,b){return function(c,d){return a(c,d)?b(c,c.length-d.length):c}},l=k(e,j),m=k(g,i),n=function(a,b){return a+b},o=function(a,b){return b+a},p=function(a,b){return function(c,d){return a(c,d)?c:b(c,d)}},q=p(e,o),r=p(g,n),s=function(a){return a.replace(/^\s+|\s+$/g,"")},t=function(a){return a.replace(/^\s+/g,"")},u=function(a){return a.replace(/\s+$/g,"")},v=function(a,b){return a.indexOf(b)!=-1},w=d(v),x=function(a){return a.replace(/\"/gm,"&quot;")},y=function(a,b){return a===b},z=d(y),A=function(a){if(""===a)throw"head on empty string";return a.substr(0,1)},B=function(a){if(""===a)throw"toe on empty string";return a.substr(a.length-1,a.length)},C=function(a){if(""===a)throw"tail on empty string";return a.substr(1,a.length-1)},D=function(a){if(""===a)throw"torso on empty string";return a.substr(0,a.length-1)},E=function(a){return""===a?a:A(a).toUpperCase()+C(a)},F=function(b,c){a.vString("str",b),a.vNat("num",c);for(var d="",e=0;e<c;e++)d+=b;return d},G=function(b){return function(c,d,e){a.vString("str",c),a.vChar("c",d),a.vNat("width",e);var f=c.length;return f>=e?c:b(c,F(d,e-f))}},H=G(function(a,b){return b+a}),I=G(function(a,b){return a+b});return{supplant:c,startsWith:e,startsWithIgnoringCase:f,endsWith:g,endsWithIgnoringCase:h,first:i,last:j,removeLeading:l,removeTrailing:m,ensureLeading:q,ensureTrailing:r,trim:s,lTrim:t,rTrim:u,contains:v,containsIgnoringCase:w,htmlEncodeDoubleQuotes:x,equals:y,equalsIgnoringCase:z,head:A,repead:F,padLeft:H,padRight:I,toe:B,tail:C,torso:D,capitalize:E}}),g("2b",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),g("1u",["19","1a","1g","25","o","26","18","q","1f","2b"],function(a,b,c,d,e,f,g,h,i,j){var k={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},l=function(l,m,n,o){var p={url:l,contentType:"application/json",processData:!1,type:"GET"},q=c.merge(p,o),r=f();r.open(q.type.toUpperCase(),q.url,!0),"blob"===q.responseType&&(r.responseType=q.responseType),a.isString(q.contentType)&&r.setRequestHeader("Content-Type",q.contentType);var s=q.dataType,t=a.isString(s)&&"*"!==s?k[s]+", "+k["*"]+"; q=0.01":k["*"];r.setRequestHeader("Accept",t),void 0!==q.xhrFields&&q.xhrFields.withCredentials===!0&&(r.withCredentials=!0),a.isObject(q.headers)&&b.each(q.headers,function(b,c){a.isString(c)||a.isString(b)?r.setRequestHeader(c,b):j.error("Request header data was not a string: ",c," -> ",b)});var u=function(a,b,c){m(a)},v=function(){return"blob"===q.responseType?g.from(r.response).map(d).getOr(e.pure("no response content")):e.pure(r.responseText)},w=function(){v().get(function(a){0===r.status?n("Unknown HTTP error (possible cross-domain request)",r.status,a):n('Could not load url "'+l+'": '+r.statusText,r.status,a)})},x=function(){try{return h.value(JSON.parse(r.response))}catch(a){return h.error({status:r.status,statusText:"Response was not JSON",responseText:r.responseText})}},y=function(){var a="json"===s?x(r):h.value(r.response);a.fold(w,function(a){u(a,r.statusText,r)})},z=function(){0===r.status?i.startsWith(q.url,"file:")?y():w():r.status<100||r.status>=400?w():y()};r.onerror=w,r.onload=z,void 0===q.data?r.send():r.send(q.data)};return{ajax:l}}),g("1e",["1g","1u","1t"],function(a,b,c){var d=function(a){try{var b=void 0===a||""===a;return b?a:c.parse(a)}catch(b){return{contents:a}}},e=function(a){return function(b,c,e){a(b,c,d(e))}},f=function(a,b,c,d){h(a,"GET",b,c,d)},g=function(b,d,e,f,g){h(b,"POST",e,f,a.merge({data:c.stringify(d)},g))},h=function(c,d,f,g,h){b.ajax(c,f,e(g),a.merge({dataType:"json",type:d},h))};return{get:f,post:g,ajax:h}}),g("s",["1d","19","1a","1e","o","q","1f","z"],function(a,b,c,d,e,f,g,h){var i=function(i,j,k,l){var m={headers:l},n=function(l){var n=a.asRawOrDie(i+".ajax.service.get",j,l),o=c.map(n,function(a){return b.isBoolean(a)?h(a):a}),p=g.supplant(k,o);return e.nu(function(a){d.get(p,function(b){a(f.value(b))},function(c,d,e){var g=b.isObject(e)?e:c;a(f.error(g))},m)})};return{execute:n}},j=function(c,g,h,i){var j={headers:i},k=function(i){var k=a.asRawOrDie(c+".ajax.service.post",g,i);return e.nu(function(a){d.post(h,k,function(b){a(f.value(b))},function(c,d,e){var g=b.isObject(e)?e:c;a(f.error(g))},j)})};return{execute:k}};return{get:i,post:j}}),g("1h",["1w","1m","1g"],function(a,b,c){var d=function(d,e,f,g,h){return h===!0?{known:{},unknown:f}:b.foldl(f,function(b,f){var h=g(f);return d(e,h).fold(function(){return{known:b.known,unknown:b.unknown.concat([f])}},function(d){var e=a.wrap(h,d);return{known:c.merge(b.known,e),unknown:b.unknown}})},{known:{},unknown:[]})};return{partition:d}}),g("t",["1a","1g","e","1h","18"],function(a,b,c,d,e){var f=function(a,b,d,f,g){var h=g===!0?e.none():b.get(f,d);return h.fold(function(){return a(d,g).map(function(a){return a.map(function(a){return b.set(d,a,f),a})})},function(a){return c.pure(a)})},g=function(d,e,f,g,h,i,j){var k=d(g,j);return c.mapSync(k,function(c){var d=h(c);return a.each(d,function(a,b){e.set(b,a,i)}),b.deepMerge(f,d)})},h=function(a,b,e,f,h,i,j){var k=d.partition(b.get,i,e,h,j);return 0===k.unknown.length?c.pure(k.known):g(a,b,k.known,k.unknown,f,i,j)};return{single:f,multiple:h}}),g("1i",["1x","1s"],function(a,b){var c=function(c){return b.field(c,c,a.strict(),b.anyValue())},d=function(c,d){return b.field(c,c,a.strict(),b.arrOfObj(d))},e=function(c,d){return b.field(c,c,a.strict(),d)},f=function(c,d){return b.field(c,c,a.defaulted(d),b.anyValue())},g=function(c){return b.field(c,c,a.asOption(),b.anyValue())},h=function(a,c,d,e){return b.field(a,c,d,e)},i=function(a,c){return b.state(a,c)};return{strict:c,option:g,strictArrayOfObj:d,strictArrayOf:e,defaulted:f,field:h,state:i}}),g("w",["1i","1d","p"],function(a,b,c){var d=b.objOf([a.strict("url"),a.strict("maxWidth"),a.defaulted("fresh",!1)]),e=b.objOf([a.strict("status_code"),a.strict("sub_code"),a.strict("msg")]),f=b.objOf([a.strict("html")]);return{requestOne:c.constant(d),responseFailed:c.constant(e),responseSucceeded:c.constant(f)}}),g("v",["1d","w","p","q"],function(a,b,c,d){var e=600,f=601,g=function(f){var g=a.asStruct("EmbedResponse.failure",b.responseFailed(),f);return g.fold(function(b){return d.error({code:c.constant(e),subcode:c.constant(0),msg:c.constant(a.formatError(b))})},function(a){return d.error({code:a.status_code,subcode:a.sub_code,msg:a.msg})})},h=function(e){return a.asStruct("EmbedResponse.success",b.responseSucceeded(),e).fold(function(b){return d.error({code:c.constant(f),subcode:c.constant(0),msg:c.constant(a.formatError(b))})},function(a){return d.value({recommended:c.constant(a)})})};return{failed:g,success:h}}),h("x",encodeURIComponent),g("c",["e","r","s","t","u","v","w","x"],function(a,b,c,d,e,f,g,h){return function(i,j,k){var l=b(k),m=c.get("ephox.media.service.one",g.requestOne(),i+"/1/embed?url=${url}&maxWidth=${maxWidth}",j),n=function(b,c,g){var i=function(a,d){return m.execute({url:h(b),maxWidth:c,fresh:d})},j=e.now(),k=d.single(i,l,c+"&"+b,j,void 0!==g&&g);return a.foldSync(k,f.failed,f.success)};return{checkOne:n,dumpCache:l.dump}}}),g("d",["y","z"],function(a,b){var c=function(c){if(null===c)return"null";var d=typeof c;return"object"===d&&a.prototype.isPrototypeOf(c)?"array":"object"===d&&b.prototype.isPrototypeOf(c)?"string":d},d=function(a){return function(b){return c(b)===a}};return{isString:d("string"),isObject:d("object"),isArray:d("array"),isNull:d("null"),isBoolean:d("boolean"),isUndefined:d("undefined"),isFunction:d("function"),isNumber:d("number")}}),g("6",["d"],function(a){var b=function(b,c){return a.isString(b.mediaembed_content_css)?b.mediaembed_content_css:c},c=function(b){return a.isString(b.mediaembed_service_url)},d=function(b){return a.isNumber(b.mediaembed_max_width)?b.mediaembed_max_width:650},e=function(a){var b=a.api_key;return b?b:a.mediaembed_api_key};return{hasServiceUrl:c,getMaxWidth:d,getApiKey:e,getCss:b}}),g("1j",["y","11"],function(a,b){var c=function(){},d=function(a,b){return function(){return a(b.apply(null,arguments))}},e=function(a){return function(){return a}},f=function(a){return a},g=function(a,b){return a===b},h=function(b){for(var c=new a(arguments.length-1),d=1;d<arguments.length;d++)c[d-1]=arguments[d];return function(){for(var d=new a(arguments.length),e=0;e<d.length;e++)d[e]=arguments[e];var f=c.concat(d);return b.apply(null,f)}},i=function(a){return function(){return!a.apply(null,arguments)}},j=function(a){return function(){throw new b(a)}},k=function(a){return a()},l=function(a){a()},m=e(!1),n=e(!0);return{noop:c,compose:d,constant:e,identity:f,tripleEquals:g,curry:h,not:i,die:j,apply:k,call:l,never:m,always:n}}),g("10",["1j","1k"],function(a,b){var c=a.never,d=a.always,e=function(){return f},f=function(){var f=function(a){return a.isNone()},g=function(a){return a()},h=function(a){return a},i=function(){},j={fold:function(a,b){return a()},is:c,isSome:c,isNone:d,getOr:h,getOrThunk:g,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},or:h,orThunk:g,map:e,ap:e,each:i,bind:e,flatten:e,exists:c,forall:d,filter:e,equals:f,equals_:f,toArray:function(){return[]},toString:a.constant("none()")};return b.freeze&&b.freeze(j),j}(),g=function(a){var b=function(){return a},h=function(){return k},i=function(b){return g(b(a))},j=function(b){return b(a)},k={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:d,isNone:c,getOr:b,getOrThunk:b,getOrDie:b,or:h,orThunk:h,map:i,ap:function(b){return b.fold(e,function(b){return g(b(a))})},each:function(b){b(a)},bind:j,flatten:b,exists:j,forall:j,filter:function(b){return b(a)?k:f},equals:function(b){return b.is(a)},equals_:function(b,d){return b.fold(c,function(b){return d(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return k},h=function(a){return null===a||void 0===a?f:g(a)};return{some:g,none:e,from:h}}),g("f",["10","y","11","z"],function(a,b,c,d){var e=function(){var a=b.prototype.indexOf,c=function(b,c){return a.call(b,c)},d=function(a,b){return u(a,b)};return void 0===a?d:c}(),f=function(b,c){var d=e(b,c);return d===-1?a.none():a.some(d)},g=function(a,b){return e(a,b)>-1},h=function(a,b){return t(a,b).isSome()},i=function(a,b){
for(var c=[],d=0;d<a;d++)c.push(b(d));return c},j=function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},k=function(a,c){for(var d=a.length,e=new b(d),f=0;f<d;f++){var g=a[f];e[f]=c(g,f,a)}return e},l=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];b(e,c,a)}},m=function(a,b){for(var c=a.length-1;c>=0;c--){var d=a[c];b(d,c,a)}},n=function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++){var g=a[e],h=b(g,e,a)?c:d;h.push(g)}return{pass:c,fail:d}},o=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},p=function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],f=0,g=a.length;f<g;f++){var h=a[f],i=b(h);i!==c&&(d.push(e),e=[]),c=i,e.push(h)}return 0!==e.length&&d.push(e),d},q=function(a,b,c){return m(a,function(a){c=b(c,a)}),c},r=function(a,b,c){return l(a,function(a){c=b(c,a)}),c},s=function(b,c){for(var d=0,e=b.length;d<e;d++){var f=b[d];if(c(f,d,b))return a.some(f)}return a.none()},t=function(b,c){for(var d=0,e=b.length;d<e;d++){var f=b[d];if(c(f,d,b))return a.some(d)}return a.none()},u=function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},v=b.prototype.push,w=function(a){for(var d=[],e=0,f=a.length;e<f;++e){if(!b.prototype.isPrototypeOf(a[e]))throw new c("Arr.flatten item "+e+" was not an array, input: "+a);v.apply(d,a[e])}return d},x=function(a,b){var c=k(a,b);return w(c)},y=function(a,b){for(var c=0,d=a.length;c<d;++c){var e=a[c];if(b(e,c,a)!==!0)return!1}return!0},z=function(a,b){return a.length===b.length&&y(a,function(a,c){return a===b[c]})},A=b.prototype.slice,B=function(a){var b=A.call(a,0);return b.reverse(),b},C=function(a,b){return o(a,function(a){return!g(b,a)})},D=function(a,b){for(var c={},e=0,f=a.length;e<f;e++){var g=a[e];c[d(g)]=b(g,e)}return c},E=function(a){return[a]},F=function(a,b){var c=A.call(a,0);return c.sort(b),c};return{map:k,each:l,eachr:m,partition:n,filter:o,groupBy:p,indexOf:f,foldr:q,foldl:r,find:s,findIndex:t,flatten:w,bind:x,forall:y,exists:h,contains:g,equal:z,reverse:B,chunk:j,difference:C,mapToObject:D,pure:E,sort:F,range:i}}),g("1",["c","6","e","f"],function(a,b,c,d){var e=function(b,c){var d=c?{"tinymce-api-key":c}:{};return a(b,d)},f=function(a){var f=e(a.mediaembed_service_url,b.getApiKey(a)),g=function(a,b,c){return f.checkOne(a,b,c)},h=function(){f.dumpCache()},i={},j=function(e,f,h){void 0!==i[e]?i[e]=i[e].concat(f):(i[e]=[f],c.handle(g(e.trim(),b.getMaxWidth(a)),function(a){h(a),delete i[e]},function(a){d.each(i[e],function(b){b(a)}),delete i[e]}))};return{getOne:g,dumpCache:h,getAndHandleResponse:j}};return f}),g("2",["f"],function(a){var b=[{code:404,message:"The specified url was not found."}],c=function(c,d){var e=a.find(b,function(a){return a.code===d}).fold(function(){return"Server didn't produce a valid result. ("+d+")"},function(a){return a.message});return"Media embed: "+e};return function(a){var b,d=function(d){var e=d.msg(),f=d.code();e!==b&&a.windowManager.alert(c(e,f),function(){b=""}),b=e},e=function(b){a.notificationManager.open({text:b,type:"error"})},f=function(a){e(c(a.msg(),a.code()))};return{formatMessage:c,showNotificationError:f,showDialogError:d,showNotificationMsg:e}}}),g("k",[],function(){var a=function(a){return/^https?:\/\/\S+$/i.test(a.trim())};return{checkUrl:a}}),g("1l",["f"],function(a){var b=function(b){var c=b.split(" "),d={};return a.each(c,function(a){d[a.toLowerCase()]=!0}),d},c=function(a){var c=b(a);return function(a){return!!a&&a.nodeName.toLowerCase()in c}};return{makeValidator:c}}),g("12",["1l","f","1j"],function(a,b,c){var d=a.makeValidator("h1 h2 h3 h4 h5 h6 p span"),e=a.makeValidator("strong em b span a br"),f=function(a){return a?a.querySelectorAll("*"):[]},g=function(a){return b.find(f(a),c.not(e)).isNone()};return{hasValidChildren:g,hasValidParent:d,isValidElm:function(a){return d(a)&&g(a)}}}),g("i",["10"],function(a){var b=function(b){return function(c){return c?a.from(c[b]):a.none()}};return{safeProp:b}}),g("g",["k","12","10","i"],function(a,b,c,d){var e=function(e){return c.from(e).filter(b.isValidElm).bind(d.safeProp("textContent")).filter(a.checkUrl)};return{extractUrl:e}}),h("h",tinymce.util.Promise),h("13",document),h("14",tinymce.html.Serializer),g("j",["13","14","6"],function(a,b,c){var d=function(a){return 1===a.nodeType?a:d(a.nextSibling)},e=function(a,c){var d=a.parser.parse(c,{isRootContent:!0,forced_root_block:!1}),e=new b({validate:!0},a.schema).serialize(d);return a.dom.createFragment(e)},f=function(a,b){return b&&b.nodeName===a},g=function(a){return a&&null!==a.parentNode},h=function(a,b){var c=a.dom.createFragment(b);return d(c.firstChild)},i=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},j=function(a,b,c){var d=e(a,c.outerHTML);a.undoManager.transact(function(){i(b),b.appendChild(d)})},k=function(a,b,c){var d=e(a,c.outerHTML),f=d.firstChild;a.undoManager.transact(function(){b.parentNode.replaceChild(f,b)})},l=function(b){var c=a.createElement("div");return c.appendChild(b.cloneNode(!0)),c},m=function(a){return(f("VIDEO",a)||f("AUDIO",a))&&(a.style.width="100%"),a},n=function(a,b,c){var d=c.cloneNode(!0);return d.style.maxWidth||(d.style.maxWidth=b+"px"),d.setAttribute("data-ephox-embed-iri",a),d.contentEditable=!1,d},o=function(a,b,c){return f("DIV",b)?n(a,c,b):n(a,c,l(m(b)))},p=function(a,b,c){return f("A",b)?b:o(a,b,c)},q=function(a,b,d){var e=h(a,d);return p(b,e,c.getMaxWidth(a.settings)).outerHTML},r=function(a,b,d,e){b.filter(g).map(function(b){var g=p(d,h(a,e),c.getMaxWidth(a.settings));f("DIV",g)?k(a,b,g):j(a,b,g)})};return{replaceNode:r,getDialogHtml:q}}),g("3",["g","h","i","6","j"],function(a,b,c,d,e){var f=function(b,d,f,g){var h=c.safeProp("previousSibling")(b.newBlock);h.bind(a.extractUrl).map(function(a){f.getAndHandleResponse(a,function(b){var c=b.recommended().html();e.replaceNode(d,h,a,c)},g.showNotificationError)})},g=function(a,b,c){a.on("newBlock",function(d){f(d,a,b,c)})};return{setup:g}}),g("4",["6","j","k"],function(a,b,c){var d=function(a,d,e){return function(f,g){return c.checkUrl(f.url)===!1?void g({html:""}):void d.getAndHandleResponse(f.url,function(c){var d=c.recommended().html();g({html:b.getDialogHtml(a,f.url,d)})},e.showDialogError)}},e=function(a,b,c){"media_url_resolver"in a.settings==!1&&(a.settings.media_url_resolver=d(a,b,c))};return{setup:e}}),h("a",tinymce.Env),h("l",tinymce.html.Node),g("5",["a","f","l"],function(a,b,c){var d=function(a){b.each(a,function(a){var b;b=new c("span",1),b.attr("class","mce-shim"),b.attr("data-mce-bogus","1"),a.append(b),a.attr("contenteditable","false")})},e=function(a){b.each(a,function(a){a.attr("contenteditable",null)})},f=function(b){b.on("click keyup",function(){var a=b.selection.getNode();a&&b.dom.getAttrib(a,"data-ephox-embed-iri")&&b.dom.getAttrib(a,"data-mce-selected")&&a.setAttribute("data-mce-selected","2")}),a.ceFalse&&b.on("PreInit",function(){b.parser.addAttributeFilter("data-ephox-embed-iri",d),b.serializer.addAttributeFilter("data-ephox-embed-iri",e)})};return{setupCeFalse:f}}),g("m",[],function(){var a=0,b=1,c=-1,d=function(a){return parseInt(a,10)},e=function(a){return function(){return a}},f=function(a,b,c){return{major:e(a),minor:e(b),patch:e(c)}},g=function(a){var b=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(a);return b?f(d(b[1]),d(b[2]),d(b[3])):f(0,0,0)},h=function(d,e){var f=d-e;return 0===f?a:f>0?b:c},i=function(b,c){var d=h(b.major(),c.major());if(d!==a)return d;var e=h(b.minor(),c.minor());if(e!==a)return e;var f=h(b.patch(),c.patch());return f!==a?f:a};return{nu:f,parse:g,compare:i}}),g("7",["m"],function(a){var b=function(a){var b=[a.majorVersion,a.minorVersion].join(".");return b.split(".").slice(0,3).join(".")},c=function(c){return c?a.parse(b(c)):null},d=function(b,d){return a.compare(c(b),a.parse(d))<0};return{getVersion:c,isLessThan:d}}),h("n",window),g("8",["n"],function(a){var b=function(a,b){return function(){var c=a.console;c&&b in c&&c[b].apply(c,arguments)}};return{log:b(a,"log"),error:b(a,"error"),warn:b(a,"warm")}}),h("9",tinymce),h("b",tinymce.PluginManager),g("0",["1","2","3","4","5","6","7","8","9","a","b"],function(a,b,c,d,e,f,g,h,i,j,k){var l=function(a,b){var c=b+"/content.min.css",d=f.getCss(a.settings,c);a.dom.loadCSS(d)},m=function(g,h){var i=b(g),j=a(g.settings);return e.setupCeFalse(g),g.on("Init",function(){l(g,h)}),g.on("SkinLoaded",function(){f.hasServiceUrl(g.settings)?(c.setup(g,j,i),d.setup(g,j,i)):i.showNotificationMsg("You need to specify the mediaembed_service_url setting")}),{}},n=function(a,b){return i.Env.ceFalse?g.isLessThan(i,"4.5.2")?(h.error("The mediaembed plugin requires at least 4.5.2 version of TinyMCE."),{}):m(a,b):{}};return k.add("mediaembed",n),function(){}}),d("0")()}();